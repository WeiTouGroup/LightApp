!function(){var e=navigator.userAgent.match("MicroMessenger"),n=["menuItem:share:appMessage","menuItem:share:timeline","menuItem:copyUrl","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone","menuItem:openWithQQBrowser","menuItem:openWithSafari"],t=["menuItem:share:appMessage","menuItem:share:timeline","menuItem:copyUrl","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone","menuItem:openWithQQBrowser","menuItem:openWithSafari"],s=!1,i=function(t){var i=t||{},c=nb.slide.wx.signature;e&&(wx.ready(function(){s||wx.hideMenuItems({menuList:n,success:function(e){},fail:function(e){}})}),$.ajax({url:c.url,type:"post",contentType:"application/json;charset=UTF-8",dataType:"json",data:JSON.stringify({cmd:c.cmd,parameters:{companyCode:i.companyCode||"",url:location.href}}),success:function(e){var n=e.statusCode;0==n&&(a(e.response),m(i))}}))},a=function(e){wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","hideMenuItems","showMenuItems","chooseImage","uploadImage"]})},m=function(e){var n=e.shareData;wx.ready(function(){s=!0,e.allHidden||(wx.showMenuItems({menuList:t,success:function(e){},fail:function(e){}}),wx.onMenuShareAppMessage({title:n.title,desc:n.desc,link:n.link,imgUrl:n.imgUrl,success:function(){e.success&&e.success("app")}}),wx.onMenuShareTimeline({title:n.timelineTitle||n.title,desc:n.desc,link:n.timelineLink||n.link,imgUrl:n.imgUrl,success:function(){e.success&&e.success("timeline")}}),e.callback&&callback.call(e.scope))})};nb.name("nb.slide.wx",{isWeiXin:e,signature:{url:"http://appsupport.humming-tech.com/cgi",cmd:"weixin/signature"},config:i,setShareData:m})}();